extends ../layouts/default

block content

    .container-fluid(ng-app='draftboardApp')
        if user
            #loggedin

        h1 Draftboard
        #draftboard(ng-controller='PlayerTableController')
            p.lead There are {{players.length}} players registered.

            //.button-group
            //    .btn.btn-default(ng-click="filterPlayers()") All
            //    .btn.btn-default(ng-click="filterPlayers('2020-01-11')") Jan. 11th Event
            //    .btn.btn-default(ng-click="filterPlayers('2020-02-02')") Feb. 2nd

            table.table.table-hover.table-striped
                thead
                    th Number
                    th Name
                    th Gender
                    th Skill
                    th Attendance
                    th Partner
                    th Comments
                tbody
                    tr(ng-repeat='player in players | orderBy:"-skill"')
                        td {{$index + 1}}
                        td {{player.name.first}} {{player.name.last}}
                        td {{player.gender}}
                        td {{player.skillLevel}}
                        td {{player.dates_registered.join(", ")}}
                        td {{player.partners}}
                        td {{player.comments}}

block js
    script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js')
    script(src='/js/draftboard.js')
